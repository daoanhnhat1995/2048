<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>2048 Angular 2 </title>
  <base href=".">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <my-app>Loading...</my-app>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.min.js"> </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.ui.min.js"> </script>
    <script>

      function movePiece( fromTileId, toTileId, fromTileLoc, toTileLoc, direction ){
	var scalar = 100;

  var toTile = document.getElementById(toTileId);
  var fromTile = document.getElementById(fromTileId);
  
	Velocity(toTile, {'z-index': 10}, 1)
  console.log(toTileId,toTile);
  Velocity(toTile, {'scale': .7}, {delay:500, duration:0})
  .then(function(){
  	Velocity(toTile, {'scale': 1}, {duration:500})
  })
   
   var from_x = Math.floor(fromTileLoc / 3);
   var from_y = fromTileLoc % 3;
   
   var to_x = Math.floor(toTileLoc / 3);
   var to_y = toTileLoc % 3;
   
   //Euclidean Distance
   var dist = Math.sqrt(Math.pow(to_x-from_x, 2) + Math.pow(to_y-from_y, 2));
   console.log(from_x, from_y, to_x, to_y, dist)
   
   var moveTile = {};
   moveTile[direction] = (dist * scalar) + 'px';//'100px'
   Velocity(fromTile, moveTile, 1000);
   //break;
   //}
   
      }
      	setTimeout(function(){
          movePiece('0_1', '1_0', 2, 1, 'left');
        },2000);

  
    </script>
</body>
</html>
